fn getAsciiCodes(str: string) {
    return str.split(" ").map(fn(x) {
        const wordCodes = array(x).map(fn (y) {
            return asciiCode(y)
        })
        return wordCodes
    })
}

fn testOs() {
    const testFile = "testfile.txt"
    const testDir = "testdir"
    
    os.writeFile(testFile, "hello")
    const content = os.readFile(testFile)
    echo("Read content:", content)
    
    os.appendFile(testFile, " world")
    echo("Appended content:", os.readFile(testFile))
    
    echo("Exists:", os.exists(testFile))
    
    os.mkdir(testDir)
    echo("Dir exists:", os.exists(testDir))
    
    os.writeFile(testDir + "/file1.txt", "1")
    os.writeFile(testDir + "/file2.txt", "2")
    echo("Listdir:", os.listdir(testDir))
    
    const info = os.stat(testDir + "/file1.txt")
    echo("Stat:", info)
    echo("Size:", info.size)
    echo("IsDir:", info.isDir)
    
    // Cleanup
    os.remove(testFile)
    os.remove(testDir + "/file1.txt")
    os.remove(testDir + "/file2.txt")
    os.remove(testDir)
}

testOs()